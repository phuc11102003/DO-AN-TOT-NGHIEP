# ğŸ›’ Thu Mua Äá»“ CÅ© - Ná»n táº£ng Mua BÃ¡n & Trao Äá»•i Äá»“ CÅ©

**PhiÃªn báº£n:** 1.0.0  
**NgÃ y cáº­p nháº­t:** ThÃ¡ng 1, 2025

Ná»n táº£ng e-commerce hiá»‡n Ä‘áº¡i cho phÃ©p ngÆ°á»i dÃ¹ng mua bÃ¡n, trao Ä‘á»•i Ä‘á»“ cÅ© má»™t cÃ¡ch dá»… dÃ ng vÃ  an toÃ n.

---

## ğŸ“‹ Má»¥c Lá»¥c

- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [CÃ´ng nghá»‡ sá»­ dá»¥ng](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t)
- [Cáº¥u hÃ¬nh](#-cáº¥u-hÃ¬nh)
- [Cáº¥u trÃºc dá»± Ã¡n](#-cáº¥u-trÃºc-dá»±-Ã¡n)
- [API Documentation](#-api-documentation)
- [TÃ­nh nÄƒng nÃ¢ng cao](#-tÃ­nh-nÄƒng-nÃ¢ng-cao)
- [Quy trÃ¬nh hoáº¡t Ä‘á»™ng](#-quy-trÃ¬nh-hoáº¡t-Ä‘á»™ng)
- [TÃ­nh nÄƒng báº£o máº­t](#-tÃ­nh-nÄƒng-báº£o-máº­t)
- [TÃ­nh nÄƒng tá»± Ä‘á»™ng cá»§a há»‡ thá»‘ng](#-tÃ­nh-nÄƒng-tá»±-Ä‘á»™ng-cá»§a-há»‡-thá»‘ng)
- [Tá»‘i Æ°u hÃ³a](#-tá»‘i-Æ°u-hÃ³a)
- [ÄÃ³ng gÃ³p](#-Ä‘Ã³ng-gÃ³p)
- [License](#-license)

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ‘¥ NgÆ°á»i dÃ¹ng
- âœ… **ÄÄƒng kÃ½/ÄÄƒng nháº­p** vá»›i JWT Authentication
- âœ… **Quáº£n lÃ½ há»“ sÆ¡** cÃ¡ nhÃ¢n
- âœ… **QuÃªn máº­t kháº©u** vá»›i email reset
- âœ… **ÄÄƒng sáº£n pháº©m** vá»›i upload hÃ¬nh áº£nh
- âœ… **TÃ¬m kiáº¿m & Lá»c** sáº£n pháº©m theo danh má»¥c, giÃ¡
- âœ… **Giá» hÃ ng & Thanh toÃ¡n** (COD & VNPay)
- âœ… **Trao Ä‘á»•i sáº£n pháº©m** vá»›i ngÆ°á»i dÃ¹ng khÃ¡c
- âœ… **ÄÃ¡nh giÃ¡ sáº£n pháº©m** (rating & review)
- âœ… **Chat AI** tÆ° váº¥n sáº£n pháº©m
- âœ… **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng** chi tiáº¿t
- âœ… **Tin nháº¯n** vá»›i ngÆ°á»i dÃ¹ng khÃ¡c
- âœ… **Xem thÃ´ng bÃ¡o** vÃ  Ä‘Ã¡nh dáº¥u Ä‘Ã£ Ä‘á»c

### ğŸ‘¨â€ğŸ’¼ Admin
- âœ… **Dashboard** thá»‘ng kÃª tá»•ng quan
- âœ… **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng** (khÃ³a/má»Ÿ khÃ³a tÃ i khoáº£n)
- âœ… **Duyá»‡t/Tá»« chá»‘i sáº£n pháº©m**
- âœ… **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng**
- âœ… **Kiá»ƒm duyá»‡t Ä‘Ã¡nh giÃ¡**
- âœ… **Quáº£n lÃ½ danh má»¥c sáº£n pháº©m**
- âœ… **Thá»‘ng kÃª doanh thu**

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **React 19** - UI Framework
- **Material-UI (MUI)** - Component Library
- **React Router** - Routing
- **Axios** - HTTP Client
- **Framer Motion** - Animations
- **SweetAlert2** - Alerts

### Backend
- **Node.js** - Runtime
- **Express.js** - Web Framework
- **MongoDB** - Database
- **Mongoose** - ODM
- **JWT** - Authentication
- **Multer** - File Upload
- **Nodemailer** - Email Service
- **OpenAI API** - AI Chat
- **VNPay** - Payment Gateway

---

## ğŸš€ CÃ i Ä‘áº·t

### YÃªu cáº§u
- Node.js >= 16.x
- MongoDB >= 4.x
- npm hoáº·c yarn

### BÆ°á»›c 1: Clone repository
```bash
git clone https://github.com/yourusername/thu-mua-do-cu.git
cd thu-mua-do-cu
```

### BÆ°á»›c 2: CÃ i Ä‘áº·t dependencies

**Backend:**
```bash
cd server
npm install
```

**Frontend:**
```bash
cd client
npm install
```

**Admin Panel:**
```bash
cd admin
npm install
```

### BÆ°á»›c 3: Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng

Táº¡o file `.env` trong thÆ° má»¥c `server/`:
```env
# Database
MONGODB_URI=mongodb://localhost:27017/thumua

# JWT
JWT_SECRET=your-secret-key-here

# Server
PORT=5000
NODE_ENV=development

# Client URL
CLIENT_URL=http://localhost:3000

# Email Service (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# OpenAI API (Optional)
OPENAI_API_KEY=sk-your-openai-api-key

# VNPay (Optional)
VNPAY_TMN_CODE=your_tmn_code
VNPAY_HASH_SECRET=your_hash_secret
VNPAY_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
```

### BÆ°á»›c 4: Khá»Ÿi Ä‘á»™ng

**Backend:**
```bash
cd server
npm start
```

**Frontend:**
```bash
cd client
npm start
```

**Admin Panel:**
```bash
cd admin
npm start
```

---

## âš™ï¸ Cáº¥u hÃ¬nh

### Email Service (Gmail)

1. Báº­t **2-Step Verification** trÃªn Google Account
2. Táº¡o **App Password** táº¡i [Google App Passwords](https://myaccount.google.com/apppasswords)
3. Sá»­ dá»¥ng App Password (16 kÃ½ tá»±) cho `SMTP_PASS`

### VNPay

1. ÄÄƒng kÃ½ tÃ i khoáº£n VNPay Merchant
2. Láº¥y `TMN_CODE` vÃ  `HASH_SECRET`
3. Cáº¥u hÃ¬nh trong `.env`

### OpenAI API

1. ÄÄƒng kÃ½ táº¡i [OpenAI Platform](https://platform.openai.com)
2. Táº¡o API Key
3. ThÃªm vÃ o `.env` (khÃ´ng báº¯t buá»™c - há»‡ thá»‘ng cÃ³ fallback mode)

---

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
thu-mua-do-cu/
â”œâ”€â”€ client/                 # React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reusable components
â”‚   â”‚   â”œâ”€â”€ pages/          # Page components
â”‚   â”‚   â”œâ”€â”€ services/       # API services
â”‚   â”‚   â””â”€â”€ utils/          # Utilities
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                 # Express Backend
â”‚   â”œâ”€â”€ models/             # Mongoose models
â”‚   â”œâ”€â”€ routes/             # API routes
â”‚   â”œâ”€â”€ controllers/        # Business logic
â”‚   â”œâ”€â”€ middleware/         # Custom middleware
â”‚   â”œâ”€â”€ utils/              # Utilities
â”‚   â”œâ”€â”€ uploads/            # Uploaded files
â”‚   â””â”€â”€ server.js           # Entry point
â”‚
â”œâ”€â”€ admin/                  # Admin Panel
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/          # Admin pages
â”‚   â”‚   â””â”€â”€ components/     # Admin components
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

---

## ğŸ“¡ API Documentation

### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `GET /api/auth/me` - Láº¥y thÃ´ng tin user (Auth)
- `PUT /api/auth/profile` - Cáº­p nháº­t profile (Auth)
- `POST /api/auth/forgot-password` - QuÃªn máº­t kháº©u
- `POST /api/auth/reset-password` - Reset máº­t kháº©u

### Products
- `GET /api/products` - Láº¥y danh sÃ¡ch sáº£n pháº©m
- `GET /api/products/:id` - Chi tiáº¿t sáº£n pháº©m
- `GET /api/products/mine` - Láº¥y sáº£n pháº©m cá»§a tÃ´i (Auth)
- `POST /api/products/add` - Táº¡o sáº£n pháº©m (Auth)
- `DELETE /api/products/:id/confirm-delete` - XÃ³a sáº£n pháº©m (Auth)

### Orders
- `GET /api/orders/my-orders` - Láº¥y Ä‘Æ¡n hÃ ng cá»§a user (Auth)
- `POST /api/orders` - Táº¡o Ä‘Æ¡n hÃ ng (Auth)
- `GET /api/orders/:id` - Chi tiáº¿t Ä‘Æ¡n hÃ ng (Auth)

### Reviews
- `GET /api/reviews/product/:productId` - Láº¥y reviews sáº£n pháº©m
- `POST /api/reviews` - Táº¡o review (Auth)
- `PUT /api/reviews/:id` - Cáº­p nháº­t review (Auth)
- `DELETE /api/reviews/:id` - XÃ³a review (Auth)
- `POST /api/reviews/:id/helpful` - ÄÃ¡nh dáº¥u review há»¯u Ã­ch (Auth)

### Payments
- `POST /api/payments/create` - Táº¡o URL thanh toÃ¡n VNPay (Auth)
- `GET /api/payments/return` - Xá»­ lÃ½ káº¿t quáº£ thanh toÃ¡n tá»« VNPay
- `POST /api/payments/ipn` - Webhook tá»« VNPay (IPN - Instant Payment Notification)

### AI Chat
- `POST /api/ai/chat` - Chat vá»›i AI (Auth)
- `POST /api/ai/chat/guest` - Chat vá»›i AI (Guest)
- `GET /api/ai/history` - Lá»‹ch sá»­ chat (Auth)

### Notifications
- `GET /api/notifications` - Láº¥y danh sÃ¡ch thÃ´ng bÃ¡o (Auth)
- `PATCH /api/notifications/:id/read` - ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c (Auth)
- `PATCH /api/notifications/read-all` - ÄÃ¡nh dáº¥u táº¥t cáº£ Ä‘Ã£ Ä‘á»c (Auth)
- `GET /api/notifications/unread-count` - Sá»‘ lÆ°á»£ng thÃ´ng bÃ¡o chÆ°a Ä‘á»c (Auth)

### Exchanges (Trao Ä‘á»•i sáº£n pháº©m)
- `POST /api/exchanges/propose` - Gá»­i Ä‘á» xuáº¥t trao Ä‘á»•i (Auth)
- `GET /api/exchanges/my-offers` - Láº¥y Ä‘á» xuáº¥t trao Ä‘á»•i cá»§a tÃ´i (Auth)
- `PUT /api/exchanges/:id/respond` - Pháº£n há»“i Ä‘á» xuáº¥t (cháº¥p nháº­n/tá»« chá»‘i) (Auth)
- `GET /api/exchanges/available-products` - Láº¥y sáº£n pháº©m cÃ³ thá»ƒ trao Ä‘á»•i (Auth)

### Messages (Tin nháº¯n)
- `GET /api/messages/conversations` - Láº¥y danh sÃ¡ch conversations (Auth)
- `GET /api/messages/conversation/:userId` - Láº¥y hoáº·c táº¡o conversation (Auth)
- `GET /api/messages/conversation/:conversationId/messages` - Láº¥y messages cá»§a conversation (Auth)
- `POST /api/messages/conversation/:conversationId/messages` - Gá»­i message (Auth)
- `GET /api/messages/unread-count` - Sá»‘ lÆ°á»£ng tin nháº¯n chÆ°a Ä‘á»c (Auth)

### Admin APIs
- `GET /api/admin/stats` - Thá»‘ng kÃª tá»•ng quan (Admin)
- `GET /api/admin/users` - Danh sÃ¡ch users (Admin)
- `GET /api/admin/users/:id` - Chi tiáº¿t user (Admin)
- `POST /api/admin/users` - Táº¡o user má»›i (Admin)
- `PUT /api/admin/users/:id` - Cáº­p nháº­t user (Admin) - Bao gá»“m khÃ³a/má»Ÿ khÃ³a
- `DELETE /api/admin/users/:id` - XÃ³a user (Admin)
- `GET /api/admin/products` - Danh sÃ¡ch sáº£n pháº©m (Admin)
- `GET /api/admin/products/pending` - Sáº£n pháº©m chá» duyá»‡t (Admin)
- `GET /api/admin/products/:id` - Chi tiáº¿t sáº£n pháº©m (Admin)
- `PATCH /api/admin/products/:id/approve` - Duyá»‡t sáº£n pháº©m (Admin)
- `PATCH /api/admin/products/:id/reject` - Tá»« chá»‘i sáº£n pháº©m (Admin)
- `PUT /api/admin/products/:id` - Cáº­p nháº­t sáº£n pháº©m (Admin)
- `DELETE /api/admin/products/:id` - XÃ³a sáº£n pháº©m (Admin)
- `GET /api/admin/products/stats` - Thá»‘ng kÃª sáº£n pháº©m (Admin)
- `GET /api/admin/orders` - Danh sÃ¡ch Ä‘Æ¡n hÃ ng (Admin)
- `GET /api/admin/orders/stats` - Thá»‘ng kÃª Ä‘Æ¡n hÃ ng (Admin)
- `GET /api/admin/orders/:id` - Chi tiáº¿t Ä‘Æ¡n hÃ ng (Admin)
- `PATCH /api/admin/orders/:id/status` - Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng (Admin)

---

## ğŸ¯ TÃ­nh nÄƒng nÃ¢ng cao

### AI Chatbox
- TÆ° váº¥n sáº£n pháº©m tá»± Ä‘á»™ng
- TÃ¬m kiáº¿m sáº£n pháº©m qua chat
- Há»— trá»£ khÃ¡ch khÃ´ng Ä‘Äƒng nháº­p
- LÆ°u lá»‹ch sá»­ chat
- Hiá»ƒn thá»‹ sáº£n pháº©m trong chat vá»›i kháº£ nÄƒng click xem chi tiáº¿t

### Há»‡ thá»‘ng tin nháº¯n
- Chat real-time vá»›i ngÆ°á»i dÃ¹ng khÃ¡c
- Táº¡o conversation tá»± Ä‘á»™ng
- Äáº¿m sá»‘ tin nháº¯n chÆ°a Ä‘á»c
- Lá»‹ch sá»­ tin nháº¯n
- ÄÃ¡nh dáº¥u tin nháº¯n Ä‘Ã£ Ä‘á»c

### Trao Ä‘á»•i sáº£n pháº©m
- Gá»­i Ä‘á» xuáº¥t trao Ä‘á»•i sáº£n pháº©m
- Xem danh sÃ¡ch Ä‘á» xuáº¥t (gá»­i Ä‘i vÃ  nháº­n vá»)
- Cháº¥p nháº­n/tá»« chá»‘i Ä‘á» xuáº¥t
- Tá»± Ä‘á»™ng táº¡o thÃ´ng bÃ¡o khi cÃ³ Ä‘á» xuáº¥t má»›i
- Tá»± Ä‘á»™ng cáº­p nháº­t sá»‘ lÆ°á»£ng trao Ä‘á»•i cá»§a sáº£n pháº©m

### Há»‡ thá»‘ng Ä‘Ã¡nh giÃ¡
- Rating 1-5 sao
- BÃ¬nh luáº­n sáº£n pháº©m
- TÃ­nh rating trung bÃ¬nh tá»± Ä‘á»™ng
- ÄÃ¡nh dáº¥u review há»¯u Ã­ch

### Thanh toÃ¡n trá»±c tuyáº¿n
- TÃ­ch há»£p VNPay
- Thanh toÃ¡n COD
- XÃ¡c thá»±c giao dá»‹ch báº£o máº­t

### Email Service
- Email chÃ o má»«ng Ä‘Äƒng kÃ½
- Email reset password
- Email xÃ¡c nháº­n Ä‘Æ¡n hÃ ng
- Email thÃ´ng bÃ¡o trao Ä‘á»•i

### Há»‡ thá»‘ng thÃ´ng bÃ¡o
- ThÃ´ng bÃ¡o real-time cho ngÆ°á»i dÃ¹ng
- ThÃ´ng bÃ¡o sáº£n pháº©m Ä‘Æ°á»£c duyá»‡t/tá»« chá»‘i
- ThÃ´ng bÃ¡o trao Ä‘á»•i sáº£n pháº©m
- ThÃ´ng bÃ¡o Ä‘Æ¡n hÃ ng
- Äáº¿m sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c
- ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c/Ä‘Ã£ Ä‘á»c táº¥t cáº£

### Lá»‹ch sá»­ giao dá»‹ch
- LÆ°u trá»¯ toÃ n bá»™ lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
- Theo dÃµi tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng chi tiáº¿t
- Lá»‹ch sá»­ thanh toÃ¡n
- Lá»‹ch sá»­ trao Ä‘á»•i sáº£n pháº©m
- Xem chi tiáº¿t tá»«ng giao dá»‹ch

### Quáº£n lÃ½ danh má»¥c (Admin)
- Xem danh sÃ¡ch danh má»¥c sáº£n pháº©m
- Thá»‘ng kÃª sáº£n pháº©m theo danh má»¥c
- Lá»c sáº£n pháº©m theo danh má»¥c
- Quáº£n lÃ½ danh má»¥c trong quÃ¡ trÃ¬nh duyá»‡t sáº£n pháº©m

### Kiá»ƒm duyá»‡t Ä‘Ã¡nh giÃ¡ (Admin)
- Xem táº¥t cáº£ Ä‘Ã¡nh giÃ¡ cá»§a ngÆ°á»i dÃ¹ng
- XÃ³a Ä‘Ã¡nh giÃ¡ khÃ´ng phÃ¹ há»£p
- Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡ spam/giáº£ máº¡o
- Kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng Ä‘Ã¡nh giÃ¡

### KhÃ³a/Má»Ÿ khÃ³a User (Admin)
- KhÃ³a tÃ i khoáº£n ngÆ°á»i dÃ¹ng vi pháº¡m
- Má»Ÿ khÃ³a tÃ i khoáº£n
- Quáº£n lÃ½ tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng cá»§a user (isActive)
- Tá»± Ä‘á»™ng tá»« chá»‘i Ä‘Äƒng nháº­p khi tÃ i khoáº£n bá»‹ khÃ³a
- Xem chi tiáº¿t user trÆ°á»›c khi khÃ³a

### Quáº£n lÃ½ sáº£n pháº©m (Admin)
- Xem táº¥t cáº£ sáº£n pháº©m vá»›i bá»™ lá»c
- Xem chi tiáº¿t sáº£n pháº©m
- Cáº­p nháº­t thÃ´ng tin sáº£n pháº©m
- XÃ³a sáº£n pháº©m
- Thá»‘ng kÃª sáº£n pháº©m theo danh má»¥c
- Xem tráº¡ng thÃ¡i Ä‘á»•i tráº£ cá»§a sáº£n pháº©m

### Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (Admin)
- Xem táº¥t cáº£ Ä‘Æ¡n hÃ ng vá»›i tÃ¬m kiáº¿m vÃ  lá»c
- Xem chi tiáº¿t Ä‘Æ¡n hÃ ng
- Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
- Thá»‘ng kÃª Ä‘Æ¡n hÃ ng vÃ  doanh thu
- Theo dÃµi thanh toÃ¡n

---

## ğŸ”„ Quy trÃ¬nh hoáº¡t Ä‘á»™ng

### Quy trÃ¬nh mua bÃ¡n

1. **TÃ¬m kiáº¿m sáº£n pháº©m**
   - NgÆ°á»i dÃ¹ng tÃ¬m kiáº¿m sáº£n pháº©m theo tá»« khÃ³a, danh má»¥c, giÃ¡
   - Xem danh sÃ¡ch sáº£n pháº©m vá»›i bá»™ lá»c
   - Xem chi tiáº¿t sáº£n pháº©m, Ä‘Ã¡nh giÃ¡, hÃ¬nh áº£nh

2. **ThÃªm vÃ o giá» hÃ ng**
   - Chá»n sáº£n pháº©m vÃ  sá»‘ lÆ°á»£ng
   - ThÃªm vÃ o giá» hÃ ng
   - Xem vÃ  chá»‰nh sá»­a giá» hÃ ng

3. **Thanh toÃ¡n**
   - Chá»n phÆ°Æ¡ng thá»©c thanh toÃ¡n (COD hoáº·c VNPay)
   - Nháº­p thÃ´ng tin giao hÃ ng
   - XÃ¡c nháº­n Ä‘Æ¡n hÃ ng

4. **Xá»­ lÃ½ Ä‘Æ¡n hÃ ng**
   - Admin xÃ¡c nháº­n Ä‘Æ¡n hÃ ng
   - Cáº­p nháº­t tráº¡ng thÃ¡i: confirmed â†’ shipping â†’ completed
   - Gá»­i email thÃ´ng bÃ¡o cho khÃ¡ch hÃ ng

5. **HoÃ n táº¥t**
   - KhÃ¡ch hÃ ng nháº­n hÃ ng
   - ÄÃ¡nh giÃ¡ sáº£n pháº©m
   - ÄÆ¡n hÃ ng chuyá»ƒn sang tráº¡ng thÃ¡i "completed"

### Quy trÃ¬nh thanh toÃ¡n

#### Thanh toÃ¡n COD (Cash on Delivery)
1. KhÃ¡ch hÃ ng chá»n phÆ°Æ¡ng thá»©c COD
2. ÄÆ¡n hÃ ng Ä‘Æ°á»£c táº¡o vá»›i tráº¡ng thÃ¡i "pending"
3. Admin xÃ¡c nháº­n Ä‘Æ¡n hÃ ng
4. Giao hÃ ng vÃ  thu tiá»n máº·t
5. Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng

#### Thanh toÃ¡n VNPay
1. KhÃ¡ch hÃ ng chá»n phÆ°Æ¡ng thá»©c VNPay
2. Há»‡ thá»‘ng táº¡o URL thanh toÃ¡n VNPay
3. KhÃ¡ch hÃ ng chuyá»ƒn hÆ°á»›ng Ä‘áº¿n cá»•ng thanh toÃ¡n
4. Thá»±c hiá»‡n thanh toÃ¡n trÃªn VNPay
5. VNPay gá»­i káº¿t quáº£ vá» há»‡ thá»‘ng (IPN)
6. Há»‡ thá»‘ng xÃ¡c thá»±c vÃ  cáº­p nháº­t tráº¡ng thÃ¡i thanh toÃ¡n
7. Tá»± Ä‘á»™ng xÃ¡c nháº­n Ä‘Æ¡n hÃ ng náº¿u thanh toÃ¡n thÃ nh cÃ´ng

### Quy trÃ¬nh Ä‘Ã¡nh giÃ¡

1. **Äiá»u kiá»‡n Ä‘Ã¡nh giÃ¡**
   - Chá»‰ ngÆ°á»i Ä‘Ã£ mua sáº£n pháº©m má»›i cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ (verified review)
   - NgÆ°á»i chÆ°a mua váº«n cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ nhÆ°ng khÃ´ng cÃ³ badge "ÄÃ£ mua hÃ ng"

2. **Táº¡o Ä‘Ã¡nh giÃ¡**
   - Chá»n sá»‘ sao (1-5)
   - Viáº¿t nháº­n xÃ©t
   - CÃ³ thá»ƒ thÃªm hÃ¬nh áº£nh (tÃ¹y chá»n)
   - Gá»­i Ä‘Ã¡nh giÃ¡

3. **Kiá»ƒm duyá»‡t (Admin)**
   - Admin cÃ³ thá»ƒ xem táº¥t cáº£ Ä‘Ã¡nh giÃ¡
   - XÃ³a Ä‘Ã¡nh giÃ¡ khÃ´ng phÃ¹ há»£p
   - Quáº£n lÃ½ cháº¥t lÆ°á»£ng Ä‘Ã¡nh giÃ¡

4. **Hiá»ƒn thá»‹**
   - ÄÃ¡nh giÃ¡ Ä‘Æ°á»£c hiá»ƒn thá»‹ cÃ´ng khai
   - TÃ­nh rating trung bÃ¬nh tá»± Ä‘á»™ng
   - NgÆ°á»i dÃ¹ng khÃ¡c cÃ³ thá»ƒ Ä‘Ã¡nh dáº¥u "Há»¯u Ã­ch"

5. **Cáº­p nháº­t**
   - Rating trung bÃ¬nh tá»± Ä‘á»™ng cáº­p nháº­t khi cÃ³ Ä‘Ã¡nh giÃ¡ má»›i
   - Sá»‘ lÆ°á»£ng Ä‘Ã¡nh giÃ¡ Ä‘Æ°á»£c cáº­p nháº­t real-time

---

## ğŸ”’ TÃ­nh nÄƒng báº£o máº­t

### Authentication & Authorization
- **JWT Token**: XÃ¡c thá»±c ngÆ°á»i dÃ¹ng báº±ng JWT token
- **Password Hashing**: Máº­t kháº©u Ä‘Æ°á»£c hash báº±ng bcrypt
- **Token Expiration**: Token cÃ³ thá»i háº¡n 7 ngÃ y
- **Role-based Access**: PhÃ¢n quyá»n user/admin
- **Middleware Protection**: Táº¥t cáº£ API quan trá»ng Ä‘á»u Ä‘Æ°á»£c báº£o vá»‡

### Data Protection
- **Input Validation**: Kiá»ƒm tra dá»¯ liá»‡u Ä‘áº§u vÃ o
- **SQL Injection Prevention**: Sá»­ dá»¥ng Mongoose ODM
- **XSS Protection**: Sanitize dá»¯ liá»‡u Ä‘áº§u vÃ o
- **CORS Configuration**: Chá»‰ cho phÃ©p domain Ä‘Æ°á»£c phÃ©p
- **File Upload Security**: Giá»›i háº¡n kÃ­ch thÆ°á»›c vÃ  loáº¡i file

### User Account Security
- **Account Lock**: Admin cÃ³ thá»ƒ khÃ³a tÃ i khoáº£n vi pháº¡m
- **Password Reset**: Reset máº­t kháº©u qua email vá»›i token cÃ³ thá»i háº¡n
- **Email Verification**: XÃ¡c thá»±c email khi Ä‘Äƒng kÃ½ (tÃ¹y chá»n)
- **Session Management**: Quáº£n lÃ½ phiÃªn Ä‘Äƒng nháº­p

### Payment Security
- **VNPay Integration**: Thanh toÃ¡n qua cá»•ng báº£o máº­t VNPay
- **Transaction Verification**: XÃ¡c thá»±c giao dá»‹ch tá»« VNPay
- **Payment Logging**: Ghi log táº¥t cáº£ giao dá»‹ch
- **Secure Hash**: Sá»­ dá»¥ng hash Ä‘á»ƒ xÃ¡c thá»±c callback tá»« VNPay

---

## ğŸ¤– TÃ­nh nÄƒng tá»± Ä‘á»™ng cá»§a há»‡ thá»‘ng

### Tá»± Ä‘á»™ng hÃ³a Ä‘Æ¡n hÃ ng
- **Tá»± Ä‘á»™ng táº¡o mÃ£ Ä‘Æ¡n hÃ ng**: MÃ£ Ä‘Æ¡n hÃ ng duy nháº¥t Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng
- **Tá»± Ä‘á»™ng cáº­p nháº­t tráº¡ng thÃ¡i**: Khi thanh toÃ¡n thÃ nh cÃ´ng, Ä‘Æ¡n hÃ ng tá»± Ä‘á»™ng chuyá»ƒn sang "confirmed"
- **Tá»± Ä‘á»™ng gá»­i email**: Email xÃ¡c nháº­n Ä‘Æ¡n hÃ ng Ä‘Æ°á»£c gá»­i tá»± Ä‘á»™ng

### Tá»± Ä‘á»™ng hÃ³a sáº£n pháº©m
- **Tá»± Ä‘á»™ng tÃ­nh rating**: Rating trung bÃ¬nh Ä‘Æ°á»£c tÃ­nh tá»± Ä‘á»™ng khi cÃ³ Ä‘Ã¡nh giÃ¡ má»›i
- **Tá»± Ä‘á»™ng cáº­p nháº­t sá»‘ lÆ°á»£ng review**: Sá»‘ lÆ°á»£ng Ä‘Ã¡nh giÃ¡ Ä‘Æ°á»£c cáº­p nháº­t real-time
- **Tá»± Ä‘á»™ng táº¡o thÃ´ng bÃ¡o**: ThÃ´ng bÃ¡o Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng khi sáº£n pháº©m Ä‘Æ°á»£c duyá»‡t/tá»« chá»‘i

### Tá»± Ä‘á»™ng hÃ³a thÃ´ng bÃ¡o
- **ThÃ´ng bÃ¡o sáº£n pháº©m**: Tá»± Ä‘á»™ng táº¡o thÃ´ng bÃ¡o khi sáº£n pháº©m Ä‘Æ°á»£c duyá»‡t/tá»« chá»‘i
- **ThÃ´ng bÃ¡o trao Ä‘á»•i**: Tá»± Ä‘á»™ng táº¡o thÃ´ng bÃ¡o khi cÃ³ Ä‘á» xuáº¥t trao Ä‘á»•i
- **ThÃ´ng bÃ¡o Ä‘Æ¡n hÃ ng**: Tá»± Ä‘á»™ng táº¡o thÃ´ng bÃ¡o khi Ä‘Æ¡n hÃ ng thay Ä‘á»•i tráº¡ng thÃ¡i

### Tá»± Ä‘á»™ng hÃ³a Ä‘Ã¡nh giÃ¡
- **XÃ¡c thá»±c Ä‘Ã¡nh giÃ¡**: Tá»± Ä‘á»™ng kiá»ƒm tra xem ngÆ°á»i dÃ¹ng Ä‘Ã£ mua sáº£n pháº©m chÆ°a
- **Cáº­p nháº­t rating**: Tá»± Ä‘á»™ng tÃ­nh vÃ  cáº­p nháº­t rating trung bÃ¬nh
- **ÄÃ¡nh dáº¥u verified**: Tá»± Ä‘á»™ng Ä‘Ã¡nh dáº¥u Ä‘Ã¡nh giÃ¡ tá»« ngÆ°á»i Ä‘Ã£ mua hÃ ng

### Tá»± Ä‘á»™ng hÃ³a admin
- **Táº¡o admin máº·c Ä‘á»‹nh**: Tá»± Ä‘á»™ng táº¡o tÃ i khoáº£n admin khi khá»Ÿi Ä‘á»™ng server láº§n Ä‘áº§u
- **Thá»‘ng kÃª tá»± Ä‘á»™ng**: Dashboard tá»± Ä‘á»™ng cáº­p nháº­t thá»‘ng kÃª
- **Logging**: Tá»± Ä‘á»™ng ghi log cÃ¡c hoáº¡t Ä‘á»™ng quan trá»ng

---

## âš¡ Tá»‘i Æ°u hÃ³a

### ÄÃ£ thá»±c hiá»‡n
- âœ… Lazy loading images
- âœ… Code splitting
- âœ… Image optimization
- âœ… ProductCard kÃ­ch thÆ°á»›c Ä‘á»“ng Ä‘á»u
- âœ… XÃ³a unused imports
- âœ… Tá»‘i Æ°u useEffect dependencies

### Khuyáº¿n nghá»‹
- React.memo cho components
- useMemo vÃ  useCallback
- Virtual scrolling
- Service Worker (PWA)
- CDN cho images

---

## ğŸ“Š Má»©c Ä‘á»™ hoÃ n thÃ nh

| Pháº§n | HoÃ n thÃ nh |
|------|-----------|
| Frontend (Client) | 90% |
| Frontend (Admin) | 85% |
| Backend API | 90% |
| Database | 95% |
| AI Chat | 80% |
| Tá»‘i Æ°u hÃ³a | 75% |
| **Tá»•ng thá»ƒ** | **85%** |

---

## ğŸ¤ ÄÃ³ng gÃ³p

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! Vui lÃ²ng:

1. Fork dá»± Ã¡n
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

---

## ğŸ“ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¢n phá»‘i dÆ°á»›i giáº¥y phÃ©p MIT. Xem file `LICENSE` Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

---

## ğŸ“ LiÃªn há»‡

- **Email:** support@thumua.com
- **Website:** https://thumua.com
- **GitHub:** https://github.com/yourusername/thu-mua-do-cu

---

**Made with â¤ï¸ by ThÃº Mua Äá»“ CÅ© Team**

# DO-AN-TOT-NGHIEP
